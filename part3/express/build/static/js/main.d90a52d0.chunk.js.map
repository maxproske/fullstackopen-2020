{"version":3,"sources":["services/persons.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","Notification","message","style","color","fontStyle","width","padding","fontSize","backgroundColor","className","Numbers","persons","handleDeleteClick","console","log","length","map","person","key","name","phone","onClick","window","confirm","App","useState","setPersons","newName","setNewName","newPhone","setNewPhone","errorMessage","setErrorMessage","useEffect","personService","then","response","data","onSubmit","e","preventDefault","newId","i","alert","newPerson","setTimeout","concat","value","onChange","target","required","disabled","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d90a52d0.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = 'https://hidden-springs-29768.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove }\n","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport personService from './services/persons'\n\nconst Notification = ({ message }) => {\n  const style = {\n    color: 'white',\n    fontStyle: 'italic',\n    width: '100%',\n    padding: '1rem',\n    fontSize: 16,\n    backgroundColor: 'grey',\n  }\n  return (\n    message && (\n      <div style={style} className=\"error\">\n        {message}\n      </div>\n    )\n  )\n}\n\nconst Numbers = ({ persons, handleDeleteClick }) => {\n  console.log(persons)\n  return (\n    <article>\n      <h2>Numbers</h2>\n      {persons.length > 0 && (\n        <ul>\n          {persons.map((person) => (\n            <li key={person.id}>\n              {person.name} {person.phone}{' '}\n              <button onClick={() => window.confirm('Are you sure?') && handleDeleteClick(person.id)}>delete</button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </article>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newPhone, setNewPhone] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      setPersons(response.data)\n    })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handlePhoneChange = (e) => {\n    setNewPhone(e.target.value)\n  }\n\n  const addPerson = (e) => {\n    e.preventDefault()\n\n    let newId = 1\n    for (let i = 0; i < persons.length; i++) {\n      if (persons[i].name === newName) {\n        alert(`${newName} already exists in the phone book!`)\n        return\n      }\n      if (persons[i].phone === newPhone) {\n        personService.update(persons[i].id, { ...persons[i], name: newName }).then((response) => {\n          setPersons(persons.map((person) => (person.id !== persons[i].id ? person : response.data)))\n        })\n        return\n      }\n      if (persons[i].id >= newId) {\n        newId = persons[i].id + 1\n      }\n    }\n\n    const newPerson = {\n      id: newId,\n      name: newName,\n      phone: newPhone,\n    }\n    personService.create(newPerson).then(() => {\n      setErrorMessage(`Added ${newPerson.name} to the phone book!`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 3000)\n    })\n\n    setPersons(persons.concat(newPerson))\n    setNewName('')\n    setNewPhone('')\n  }\n\n  const handleDeleteClick = (id) => {\n    personService.remove(id).then(() => {\n      setPersons(persons.filter((person) => person.id !== id))\n    })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} required />\n        </div>\n        <div>\n          phone: <input value={newPhone} onChange={handlePhoneChange} required />\n        </div>\n        <div>\n          <button disabled={!newName.length || !newPhone.length}>add</button>\n        </div>\n      </form>\n      <Numbers persons={persons} handleDeleteClick={handleDeleteClick} />\n    </div>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}